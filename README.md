# storage-engine
咱们项目面对的是：海量数据存储

我测过每秒的写盘速度是：6.6M/s

单块磁盘无法解决写入数据慢的问题。

怎么才能用最少的资源达到最好的写入效果。

存储引擎的核心：写盘模块和信号处理模块。

写盘模块：
怎么才能把向磁盘写入数据的过程交给系统来做，而我们的程序本身只做一件事，就是告诉系统开始写盘，写完之后通知我写完了就可以。

aio异步文件读写来实现这个过程：
机制：直接告诉系统开始从哪个文件哪个位置开始写多大数据，顺便通知系统，当我这个写入数据的过程完毕了，那你通过信号通知我。
信号处理模块：
对我们自定义的信号进行处理，他的处理就是判断写盘是否正确完成，如果正确完成，那么我们就开始下一段数据的写入

数据处理模块：
提供一个接口：实现获取数据，并对数据进行特定的需求处理。处理完毕之后将数据返回给程序。

外部管控模块来实现一个日志的功能：

随时可以查看进程内我们想看到的所有数据
对我们的程序进行一定程度上的控制。

很多的配置参数都是通过配置文件完成：
libconfig
系统日志模块：
libzlog


磁盘是多个，并且数量不定
磁盘路径，

写数据线程个数
需要给线程绑定cpu核心，让线程独占cpu核心，cpu的id

信号处理线程个数
绑定的cpu核心id

数据处理线程个数
绑定的cpu核心id

程序的启动方法：
mkdir storage_engine

git clone git@github.com:ARRAYLI/storage-engine.git

cd src 

./build.sh

./create_dir.sh

./show_dir.sh

sudo ./test

